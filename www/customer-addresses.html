<!-- Wappler include head-page="index.html" is="dmx-app" id="customeraddresses" appConnect="local" framework7_6="With App Connect" framework7_icons="local" capacitor="local" components="{dmxPreloader:{}}" bootstrap_icons="local" -->

<div class="page" path="/customer-addresses" data-name="customer-addresses" id="customerAddresses">

    <div class="padding-top padding-bottom">
        <div class="navbar no-hairline no-shadow no-border">
            <div class="navbar-inner" style="padding-right:0px !important; padding-left:0px !important; margin-right:0px !important">
                <div class="left">
                    <a href="#" class="link back">
                        <i class="icon f7-icons">arrow_left</i>
                    </a>
                </div>
                <div class="title">Address</div>

                <div class="right">
                    <a href="#" class="link panel-open icon-only" data-panel="left">
                        <i class="icon f7-icons">ellipsis_vertical</i>
                    </a>
                </div>
            </div>
        </div>

    </div>
    <div class="toolbar toolbar-bottom toolbar-bottom-md no-shadow">
        <div class="toolbar-inner justify-content-center" style="padding:10px !important">
            <a class="button-large rounded-xl button-18 bg-color-primary text-color-white" style="width:100%" dmx-bind:href="'/create-new-address/1'">Add a new address</a>
        </div>
    </div>
    <form is="dmx-serverconnect-form" id="delete_address" method="post" action="https://api.justpro.me/api/customer_address_actions/delete_address" site="JustPro-Spa-Backend">
        <input id="address_id" name="id" type="hidden">
    </form>
    <div class="page-content bg-gray">
        <dmx-preloader id="justpropreloader" spinner="pulse" color="#ff6600"></dmx-preloader>

        <div class="col-100 mb-150">



            <div class="list media-list chevron-center">
                <ul>
                    <li is="dmx-repeat" id="repeat_customer_addresses" dmx-bind:repeat="app.Current_user.data.customer.customer_addresses">
                        <a href="#" class="item-link item-content">
                            <div class="item-inner">
                                <div class="item-title-row">
                                    <div class="item-title brand-text">{{address_name.capitalize()}} <i class="bi bi-trash fa-fw margin brand-text" dmx-on:click="run({'f7.dialog.confirm':{title:'Delete Address?',text:'This address will be removed from your addresses.',then:{steps:{run:{action:`app.main.customerAddresses.delete_address.address_id.setValue(id);app.main.customerAddresses.delete_address.submit()`}}}}})"></i></div>
                                    <div class="item-after">&nbsp;</div>
                                </div>
                                <div class="item-subtitle"></div>
                                <div class="item-text">{{full_address+', '+apartment+', '+building+', '+city+', '+state+', '+country+'.'}}</div>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>

        </div>

    </div>
</div>