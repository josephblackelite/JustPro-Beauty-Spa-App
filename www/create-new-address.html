<!-- Wappler include head-page="index.html" is="dmx-app" id="createnewaddress" appConnect="local" framework7_6="With App Connect" framework7_icons="local" capacitor="local" components="{dmxGooglePlaces:{},dmxValidator:{}}" -->

<div class="page profile-wrapper" id="addaddress" data-name="create-new-address" path="/create-new-address/:from_manage_address?">

    <div class="navbar no-hairline no-shadow no-border">
        <div class="navbar-inner" style="padding-right:0px !important; padding-left:0px !important; margin-right:0px !important">
            <div class="left">
                <a href="#" class="link back">
                    <i class="icon f7-icons">arrow_left</i>
                </a>

            </div>

            <div class="title">Add Address</div>
            <div class="right">
                <a href="#" class="link panel-open icon-only" data-panel="left">

                    <i class="icon f7-icons">ellipsis_vertical</i>
                </a>
            </div>
        </div>
    </div>

    <div class="toolbar toolbar-bottom toolbar-bottom-md">
        <div class="toolbar-inner justify-content-center" style="padding:10px !important">
            <button href="" class="button-large button-6 button-fill rounded-xl bg-color-primary" dmx-on:click="app.main.addaddress.add_new_address.submit()" dmx-bind:disabled="app.main.addaddress.add_new_address.state.executing"><span dmx-hide="app.main.addaddress.add_new_address.state.executing" style="width:100% !important">Save Address</span>
                <div class="preloader color-purple" dmx-show="app.main.addaddress.add_new_address.state.executing"></div>
            </button>
        </div>
    </div>
    <div class="page-content content-area wappler-block">
        <div class="container mb-150">
            <div class="form-elements">
                <form is="dmx-serverconnect-form" method="post" id="add_new_address" dmx-on:success="run([{run:{action:`app.local_store.set(\'customer_last_address_id\',app.main.addaddress.add_new_address.data.insert_address.identity)`}},{condition:{if:`app.main.addaddress.route.params.from_manage_address`,then:{steps:{run:{action:`app.main.back(\'/choose-address\',{})`}}},else:{steps:{run:{action:`app.main.back(\'/choose-address\',{})`}}}}}])" site="JustPro-Spa-Backend" action="https://api.justpro.me/api/customer_app/customer_address_actions/create_new_address"><input id="customer_id" name="customer_id" type="hidden" dmx-bind:value="app.Current_user.data.customer.id">
                    <input id="country" name="country" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.components.country.long">
                    <input id="logitude" name="logitude" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.longitude">
                    <input id="latitude" name="latitude" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.latitude">
                    <input id="state" name="state" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.components.administrativeAreaLevel1.long">
                    <input id="street_name" name="street" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.address">
                    <input id="city" name="city" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.components.locality.long">
                    <input id="full_address" name="full_address" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.value">
                    <input id="google_place_id" name="google_place_id" type="hidden" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.placeId">

                    <div class="list no-hairlines-md padding-top">
                        <ul>
                            <!-- test form -->

                            <li class="item-content item-input item-input-outline">

                                <div class="item-inner">
                                    <div class="item-title item-floating-label strong" style="">Start typing your address</div>
                                    <div class="item-input-wrap"><input input type="text" placeholder="e.g Villa. 8, Oak str." class="form-control profile-form" id="inp_location" name="address_element" is="dmx-google-autocomplete" country="AE" />
                                        <span class="input-clear-button"></span>
                                    </div>
                                </div>
                            </li>

                            <li class="item-content item-input item-input-outline">

                                <div class="item-inner">
                                    <div class="item-title item-floating-label strong">Building Name</div>
                                    <div class="item-input-wrap">
                                        <input type="text" name="building" class="form-control profile-form" id="building_name" placeholder="Oak tower" required="" dmx-bind:value="app.main.addaddress.add_new_address.inp_location.components.premise.short" />
                                        <span class="input-clear-button"></span>
                                    </div>
                                </div>
                            </li>
                            <li class="item-content item-input item-input-outline">

                                <div class="item-inner">
                                    <div class="item-title item-floating-label strong">Villa/Office/Flat No.</div>
                                    <div class="item-input-wrap">
                                        <input type="text" name="apartment" class="form-control profile-form" id="flat_number" required="" placeholder="eg. 140" />
                                        <span class="input-clear-button"></span>
                                    </div>
                                </div>
                            </li>
                            <li class="item-content item-input item-input-outline">

                                <div class="item-inner">
                                    <div class="item-title item-floating-label strong">Save Address As</div>
                                    <div class="item-input-wrap">
                                        <input id="address_name" name="address_name" type="text" required="" placeholder="eg. My Office" class="profile-form" />
                                        <span class="input-clear-button"></span>
                                    </div>
                                </div>
                            </li>


                        </ul>
                    </div>



                    <div class="clearfix text-align-center pb-30">

                    </div>
                </form>
            </div>
        </div>
    </div>
</div>