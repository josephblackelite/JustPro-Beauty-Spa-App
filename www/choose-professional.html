<!-- Wappler include head-page="index.html" is="dmx-app" id="chooseprofessional" appConnect="local" framework7_6="With App Connect" framework7_icons="local" capacitor="local" components="{dmxSwiper:{},dmxSockets:{},dmxFormatter:{},dmxPreloader:{}}" fontawesome_5="local" -->

<div class="page welcome-screen" path="/choose-professional/:service_id/:provider_type/:customer_address_id?" data-name="choose-professional" id="chooseprofessional">
    <dmx-serverconnect id="list_providers" url="https://api.justpro.me/api/provider/list_providers" site="JustPro-Spa-Backend" dmx-param:service_id="app.main.chooseprofessional.route.params.service_id" dmx-param:provider_type="app.local_store.data.service_location" dmx-param:customer_address_id="app.main.chooseprofessional.search_by_name.value" sockets="true" dmx-param:search_by_name="app.main.chooseprofessional.search_by_name.value"></dmx-serverconnect>
    <div class="padding-top padding-bottom">
        <div class="navbar shadow">
            <div class="navbar-inner" style="padding-right:0px !important; padding-left:0px !important; margin-right:0px !important">
                <div class="left">
                    <a href="#" class="link back">
                        <i class="icon f7-icons">arrow_left</i>
                    </a>

                </div>

                <div class="title">{{app.local_store.data.service_location.titlecase()}} Provider</div>
                <div class="right">
                    <a href="#" class="link panel-open icon-only" data-panel="left">

                        <i class="icon f7-icons">ellipsis_vertical</i>
                    </a>
                </div>
            </div>
        </div>

    </div>
    <div class="page-content wappler-block">
        <dmx-preloader id="justpropreloader" spinner="pulse" color="#ff6600"></dmx-preloader>


        <div class="container">

            <div class="block">
                <div class="list no-hairlines-md padding-top">
                    <ul>

                        <li class="item-content item-input item-input-outline">

                            <div class="item-inner" style="width:100% !important">
                                <div class="item-title item-floating-label strong"><i class="bi bi-search"></i> &nbsp; Find professional by name</div>
                                <div class="item-input-wrap" style="width:100% !important">
                                    <input type="text" placeholder="Search by name" class="form-control" id="search_by_name" name="search_by_name" style="width:100% !important" />
                                    <span class="input-clear-button"></span>
                                </div>
                            </div>
                        </li>



                    </ul>


                </div>
                <p>Select a professional that you prefer.</p>
            </div>


            <div class="block">
                <div class="row">
                    <div class="col-auto padding elevation-1 margin-bottom" dmx-repeat:repeat_providers="app.main.chooseprofessional.list_providers.data.repeat_providers" dmx-show="(app.main.chooseprofessional.route.params.provider_type == 'home')">
                        <div class="style-1">
                            <div class="display-flex">
                                <img src="assets/images/prince-akachi-J1OScm_uHUQ-unsplash.jpg" alt="" width="100" height="100" dmx-bind:src="provider_avatar">
                                <div class="margin-left">
                                    <p>{{staff_name.capitalize()}}</p>
                                    <div class="display-flex align-items-center">
                                        <p class="margin-right" dmx-show="distance.Distance">{{distance.Distance.floor()+' km'}}</p>
                                        <button class="button button-small rounded-xl text-color-white bg-primary" dmx-on:click="run([{run:{action:`app.Cart.update({product_id: app.main.chooseprofessional.route.params.service_id.toNumber()},{provider_id: id})`}},{run:{action:`app.main.navigate(\'/appointment-page/\'+id,{})`}}])">Select</button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-auto padding elevation-1 margin-bottom" dmx-repeat:repeat_providers="app.main.chooseprofessional.list_providers.data.repeat_providers" dmx-show="(app.main.chooseprofessional.route.params.provider_type == 'salon')">
                        <div class="list accordion-list">
                            <ul>
                                <li>
                                    <div class="item-content">
                                        <div class="item-inner">

                                            <div class="item-title">Title</div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="style-1">
                            <div class="display-flex">
                                <img src="assets/images/prince-akachi-J1OScm_uHUQ-unsplash.jpg" alt="" width="100" height="100" dmx-bind:src="provider_avatar">
                                <div class="margin-left">
                                    <p>{{staff_name.capitalize()}}</p>
                                    <div class="display-flex align-items-center">
                                        <p class="margin-right" dmx-show="distance.Distance">{{distance.Distance.floor()+' km'}}</p>
                                        <button class="button button-small rounded-xl text-color-white bg-primary" dmx-on:click="run([{run:{action:`app.Cart.update({product_id: app.main.chooseprofessional.route.params.service_id.toNumber()},{provider_id: id})`}},{run:{action:`app.main.navigate(\'/appointment-page/\'+id,{})`}}])">Select</button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>