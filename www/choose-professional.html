<!-- Wappler include head-page="index.html" is="dmx-app" id="chooseprofessional" appConnect="local" framework7_6="With App Connect" framework7_icons="local" capacitor="local" components="{dmxSwiper:{},dmxSockets:{},dmxFormatter:{},dmxPreloader:{}}" fontawesome_5="local" -->

<div class="page welcome-screen" path="/choose-professional/:service_id/:parent_provider_id/:provider_service_id" data-name="choose-professional" id="chooseprofessional">

    <dmx-serverconnect id="list_employees" url="https://api.justpro.me/api/provider/list_provider_employees_4_service" site="JustPro-Spa-Backend" dmx-param:service_id="app.main.chooseprofessional.route.params.service_id" dmx-param:provider_type="app.local_store.data.service_location" dmx-param:customer_address_id="app.main.chooseprofessional.search_by_name.value" dmx-param:search_by_name="app.main.chooseprofessional.search_by_name.value" dmx-param:parent_provider_id="app.main.chooseprofessional.route.params.parent_provider_id"></dmx-serverconnect>
    <dmx-serverconnect id="service_info" url="https://api.justpro.me/api/services/service_info" site="JustPro-Spa-Backend" dmx-param:service_id="app.main.chooseprofessional.route.params.service_id" sockets="true"></dmx-serverconnect>
    <div class="padding-top padding-bottom">
        <div class="navbar no-hairline no-shadow no-border">
            <div class="navbar-inner" style="padding-right:0px !important; padding-left:0px !important; margin-right:0px !important">
                <div class="subnavbar">
                    <div class="block">
                        <div class="row">
                            <div class="col-70">
                                <p>
                                    <input type="text" placeholder="Search by name" class="form-control" id="search_by_name" name="search_by_name" style="height:30px !mportant; border:0px !important; font-weight:600" />
                                </p>
                            </div>
                            <div class="col-30 justify-content-right">

                            </div>
                        </div>
                    </div>
                    <!--
                    <div class="row">
                        <div class="col-60 ">
                           
                        </div>
                        <div class="col-40 text-align-right justify-content-right">
                           
                            <p class="smallfont no-padding no-margin text-color-black">
                                <span></span>
                                <span></span>
                            </p>
                        </div>
                    </div> -->

                </div>

                <div class="left">
                    <a href="#" class="link back">
                        <i class="icon f7-icons">arrow_left</i>
                    </a>

                </div>

                <div class="title"> {{app.local_store.data.service_location.titlecase()}} Staff</div>
                <div class="right">
                    <a href="#" class="link panel-open icon-only" data-panel="left">

                        <i class="icon f7-icons">ellipsis_vertical</i>
                    </a>
                </div>
            </div>
        </div>

    </div>
    <div class="page-content wappler-block">
        <dmx-preloader id="justpropreloader" spinner="pulse" color="#ff6600"></dmx-preloader>


        <div class="block mb-150">
            <div class="block-title h6 strong custom-font text-color-primary">{{app.main.chooseprofessional.list_employees.data.repeatEmployees.count()}} {{app.main.chooseprofessional.service_info.data.queryServices.product_name}} Service Providers</div>
            <div class="list media-list">
                <ul>
                    <li dmx-repeat:repeat_employees="app.main.chooseprofessional.list_employees.data.repeatEmployees" dmx-on:click="run([{run:{action:`app.cart_preFill.set(\'employee_id\',id);app.cart_preFill.set(\'parent_provider_id\',parent_provider_id)`}},{run:{action:`app.selected_employee_id.setValue(id)`}},{run:{action:`app.main.navigate(\'/appointment-page/\'+id+\'/\'+app.main.chooseprofessional.route.params.provider_service_id,{})`}}])">
                        <a href="#" class="item-link item-content">
                            <div class="item-media"><img src="https://cdn.framework7.io/placeholder/fashion-88x88-5.jpg" width="60" /></div>
                            <div class="item-inner">
                                <div class="item-title-row">
                                    <div class="item-title">{{staff_name.capitalize()}}</div>
                                </div>
                                <div class="item-subtitle">
                                    <span class="fa fa-star small smallfont" dmx-class:checked="(rating > 0)"></span>
                                    <span class="fa fa-star small smallfont" dmx-class:checked="(rating > 1)"></span>
                                    <span class="fa fa-star small smallfont" dmx-class:checked="(rating > 2)"></span>
                                    <span class="fa fa-star small smallfont" dmx-class:checked="(rating > 3)"></span>
                                    <span class="fa fa-star small smallfont" dmx-class:checked="(rating > 4)"></span>
                                </div>
                            </div>
                        </a>
                    </li>

                </ul>
            </div>


        </div>
    </div>
</div>