<!-- Wappler include head-page="index.html" is="dmx-app" id="orders" appConnect="local" framework7_6="With App Connect" framework7_icons="local" capacitor="local" components="{dmxSwiper:{},dmxFormatter:{}}" -->

<div class="page" id="orders" data-name="orders" path="/orders">
    <div class="padding-top padding-bottom">
        <div class="navbar no-hairline no-shadow no-border">
            <div class="navbar-inner" style="padding-right:0px !important; padding-left:0px !important; margin-right:0px !important">
                <div class="left">
                    <a href="#" class="link" dmx-on:click="app.main.back('/home',{force: true})">
                        <i class="icon f7-icons">arrow_left</i>
                    </a>
                </div>
                <div class="title">Appointments</div>
                <div class="right">
                    <a href="#" class="link panel-open icon-only" data-panel="left">
                        <i class="icon f7-icons">ellipsis_vertical</i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <style>
        box-shadow: 10px 5px;
    </style>
    <div class="toolbar toolbar-bottom toolbar-bottom-md">
        <div class="toolbar-inner justify-content-center" style="padding:10px !important">
            <a class="button-large rounded-xl button-6 bg-color-primary button-fill text-color-white" style="width:100%" dmx-bind:href="'/order-prompt'">Book Appointment</a>
        </div>
    </div>

    <div class="page-content content-area">

        <div class="col-100">
            <div class="block text-align-center padding-top padding-bottom" dmx-show="(app.customers_orders.data.query.count() < 1)">
                <h5 class="custom-font"> You have not booked any home or salon appointment</h5>

            </div>
        </div>
        <div class="col-100 up-30" style="margin-bottom:150px !important">
            <style>
                .cancelled {
                    background-color: #FEF6F6 !important;
                }

                .completed {
                    background-color: #FAFCF3 !important;
                }
            </style>

            <div class="list box-shadow inset" dmx-repeat:repeat2="app.customers_orders.data.repeatOrders" style="border:1px solid #CCCCCC">
                <div class="list-group media-list" dmx-on:click="app.main.navigate('/order-details/'+id+'/'+order_uuid_id,{})" style="cursor">
                    <ul dmx-repeat:repeat1="items">
                        <li class="list-group-title bg-color-white">
                            {{parent_provider_name.titlecase()}} - {{provider_type.titlecase()}} Visit &nbsp; &nbsp;

                        </li>
                        <li>
                            <a class="item-content text-color-black" dmx-class:cancelled="(order_status == 'rejected')" dmx-class:completed="(order_status == 'completed')">
                                <div class="item-media">
                                    <img dmx-bind:src="item_image" width="60" height="60" style="border-radius:50%" />
                                </div>
                                <div class="item-inner">
                                    <div class="item-title-row">
                                        <div class="item-title"> {{product_name.titlecase()}}</div>
                                    </div>
                                    <div class="item-subtitle">{{total_amt.toNumber().formatCurrency('AED', '.', ',', 2)}}</div>
                                    <div class="item-subtitle">
                                        <span class="badge color-red float-right" dmx-show="(order_status == 'rejected')">Rejected</span>
                                        <span class="badge color-green float-right" dmx-show="(order_status == 'completed')">Completed</span>
                                        <span dmx-show="(order_status == 'pending')"> {{date.formatDate('dd MMM y')+', '+time_start.replace(".", ":")+' - '+time_end.replace(".", ":")}}</span>
                                    </div>
                                </div>
                            </a>
                        </li>

                    </ul>
                </div>
            </div>

        </div>
    </div>
</div>